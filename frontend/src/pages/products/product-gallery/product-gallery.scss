@use "@/scss/variables" as var;

.product-gallery {
    display: grid;

    /* columnas de ANCHO FIJO para que no se estiren con pocos items */
    grid-template-columns: repeat(auto-fill, minmax(320px, 320px));
    justify-content: center;
    /* centra la última fila si no se completa */

    gap: var.$spacing-lg;
    padding: var.$spacing-xl var.$spacing-lg;
    width: 100%;
    max-width: 1600px;
    margin: 0 auto;

    &__card {
        background-color: var.$color-success-100 !important;
        border: 1px solid var.$color-success-300;
        border-radius: 20px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        padding: var.$spacing-md;

        /* ancho máximo de cada card */
        max-width: 320px;
        justify-self: center;

        min-height: 460px;
        display: flex;
        flex-direction: column;
        transition: transform .2s ease, box-shadow .2s ease;

        &:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, .15);
        }

        >.product-item {
            display: flex;
            flex-direction: column;
            height: 100%;

            /* ⚠️ ya no forzamos alturas aquí —> lo maneja product-item */
            /* Dejar sólo estilos neutrales si querés */
            .product-item__image {
                display: block;
                border-radius: 12px;
            }

            /* Skeleton con mismo “alto” visual (16:9) por si aparece aquí */
            .product-item__image--skeleton {
                aspect-ratio: 16 / 9;
                width: 100%;
            }

            .product-item__info {
                flex: 1 1 auto;
                display: flex;
                flex-direction: column;
                margin-top: var.$spacing-sm;

                h1,
                h2,
                h3,
                .title {
                    margin: 0 0 var.$spacing-xs 0;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    display: -webkit-box;
                    line-clamp: 2;
                    -webkit-line-clamp: 2;
                    -webkit-box-orient: vertical;
                }

                p {
                    overflow: hidden;
                    text-overflow: ellipsis;
                    display: -webkit-box;
                    line-clamp: 2;
                    -webkit-line-clamp: 2;
                    -webkit-box-orient: vertical;
                }
            }

            .product-item__price,
            .product-price,
            .price {
                margin-top: auto;
                padding-top: var.$spacing-sm;
                text-align: right;
                font-weight: 700;
                font-size: var.$font-size-md;
                color: var.$color-dark-alpha-500;
            }

            .product-item__actions,
            .actions,
            .btn-group,
            .product-actions {
                display: flex;
                justify-content: center;
                gap: var.$spacing-sm;
                padding-top: var.$spacing-sm;
                margin-top: auto;

                button {
                    min-width: 40px;
                    height: 40px;
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 10px;
                    background-color: var.$color-primary-500;
                    color: #fff;
                    font-size: var.$font-size-md;
                    transition: background .2s ease;

                    &:hover {
                        background-color: var.$color-primary-600;
                    }
                }
            }
        }
    }

    /* Responsive */
    @media (max-width: 700px) {
        grid-template-columns: repeat(auto-fill, minmax(260px, 260px));

        &__card {
            max-width: 260px;
        }
    }
}