@use "@/scss/variables" as var;

.product-detail {
    display: grid;
    grid-template-columns: 1.1fr 1fr;
    /* imagen : info */
    gap: var.$spacing-xl;
    padding: var.$spacing-xl var.$spacing-lg;
    background-color: var.$color-success-100;
    border: 1px solid var.$color-neutro-200;
    border-radius: 20px;
    box-shadow: 0 2px 10px var.$color-dark-alpha-100;

    /* Responsive */
    @media (max-width: 960px) {
        grid-template-columns: 1fr;
        gap: var.$spacing-lg;
    }

    /* ——— Columna izquierda: imagen ——— */
    &__image {
        background: var.$color-neutro-100;
        border: 1px solid var.$color-neutro-200;
        border-radius: 16px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 360px;

        img {
            width: 100%;
            height: 420px;
            /* alto consistente */
            object-fit: cover;
            display: block;
        }

        &--placeholder {
            width: 100%;
            height: 420px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var.$color-neutro-400;
            background: repeating-linear-gradient(45deg,
                    var.$color-success-300,
                    var.$color-success-300 10px,
                    var.$color-success-300 10px,
                    var.$color-success-300 20px);
            font-weight: 600;
        }
    }

    /* ——— Columna derecha: info ——— */
    &__info {
        display: flex;
        flex-direction: column;
        gap: var.$spacing-sm;
        padding: var.$spacing-md var.$spacing-lg;
        background: var.$color-neutro-100;
        border: 1px solid var.$color-neutro-200;
        border-radius: 16px;
        box-shadow: 0 1px 4px var.$color-dark-alpha-100;
        min-height: 420px;
        /* calza con la imagen */
    }

    &__title {
        font-size: var.$font-size-xxl;
        font-weight: var.$font-weight-bold;
        color: var.$color-ak-primary-800;
        margin: 0 0 var.$spacing-xs 0;
        line-height: 1.2;
    }

    &__price {
        font-size: clamp(1.25rem, 1.1rem + 1vw, 2rem);
        font-weight: var.$font-weight-bold;
        color: var.$color-success-700;
        margin: 0 0 var.$spacing-xs 0;
    }

    &__stock {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
        color: var.$color-success-700;

        /* badge */
        &::before {
            content: "";
            width: 10px;
            height: 10px;
            border-radius: 999px;
            background: var.$color-success-500;
            box-shadow: 0 0 0 3px var.$color-success-100 inset;
        }
    }

    /* estado sin stock */
    &__stock:has(+ .product-detail__desc)::before,
    &__stock--out::before {
        background: var.$color-danger-500;
        box-shadow: 0 0 0 3px var.$color-danger-100 inset;
    }

    &__stock--out {
        color: var.$color-danger-700;
    }

    &__desc {
        color: var.$color-neutro-700;
        line-height: 1.5;
        margin-top: var.$spacing-xs;

        /* clamp opcional si querés limitar */
        /* overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 5;
    -webkit-box-orient: vertical; */
    }

    /* ——— Bloque carrito (cantidad + botón) ——— */
    &__cart {
        margin-top: auto;
        /* empuja al fondo de la tarjeta */
        display: grid;
        grid-template-columns: 1fr auto;
        gap: var.$spacing-md;
        align-items: end;
        padding-top: var.$spacing-md;
        border-top: 1px dashed var.$color-neutro-300;

        label {
            display: flex;
            flex-direction: column;
            gap: 6px;
            font-weight: 600;
            color: var.$color-neutro-700;

            input[type="number"] {
                appearance: textfield;
                padding: 10px 12px;
                border: 1px solid var.$color-neutro-300;
                border-radius: 12px;
                background: var.$color-success-100;
                font-size: var.$font-size-md;
                outline: none;
                transition: border-color .2s ease, box-shadow .2s ease;

                &:focus {
                    border-color: var.$color-ak-accent-500;
                    box-shadow: var.$color-dark-alpha-100;
                }
            }
        }

        .product-detail__add {
            padding: 12px 18px;
            border-radius: 12px;
            border: none;
            font-weight: 700;
            font-size: var.$font-size-md;
            background: var.$color-ak-primary-500;
            color: #fff;
            cursor: pointer;
            transition: background .2s ease, transform .06s ease-in-out;

            &:hover {
                background: var.$color-ak-primary-600;
            }

            &:active {
                transform: scale(0.98);
            }

            &:disabled {
                background: var.$color-neutro-300;
                color: var.$color-neutro-600;
                cursor: not-allowed;
            }
        }

        @media (max-width: 640px) {
            grid-template-columns: 1fr;

            .product-detail__add {
                width: 100%;
            }
        }
    }

    &__back {
        margin-top: var.$spacing-md;
        color: var.$color-ak-primary-700;
        font-weight: 600;
        text-decoration: none;

        &:hover {
            text-decoration: underline;
        }
    }
}